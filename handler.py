from pano.decompiler import decompile
import json


def hello(event, context):
    # data = json.loads(event['body'])
    # bytecode = data['bytecode']

    a = '0x60806040526004361061003f5760003560e01c80632fbebd38146100445780634b3df20014610076578063a0712d681461008d578063b89d71e5146100ad575b600080fd5b34801561005057600080fd5b5061006461005f366004610207565b6100c0565b60405190815260200160405180910390f35b34801561008257600080fd5b5061008b6101c8565b005b34801561009957600080fd5b5061008b6100a8366004610207565b6101e1565b6100646100bb366004610207565b6101f0565b60405160009082907fa17a9e66f0c355e3aa3b9ea969991204d6b1d2e62a47877f612cb2371d79e06a908390a26040517f83dfe5fdd239e81b3a02a05e54acfcf19600ead15fc158ace771aa38d409479890600090a1604051603160f91b8152600101604051908190038120606160f81b825290600101604051908190038120907f142906eb8959ab34f0d7d1760ac679815f08c1ac57001afbd1b4a629c467e22a90600090a360408051600180825260208201526231313160e91b818301526002606082015290516003917f713a3d6da5f4b9219c6cb11f7ddb1af8052a96ca8db60bdb57c9c450478ea904919081900360800190a26101c2826002610220565b92915050565b60016000808282546101da9190610220565b9091555050565b6101ec816001610220565b5050565b60006101fc60016101e1565b6101c2826001610220565b60006020828403121561021957600080fd5b5035919050565b6000821982111561024157634e487b7160e01b600052601160045260246000fd5b50019056fea2646970667358221220d3e2eefe106496007ea4d638c6d443e6a3e023a53935be147c42f39a882641e164736f6c634300080b0033'
    result = decompile(a)
    # result = {
    #     "b": bytecode,
    #     "c": "hello"
    # }
    return {"statusCode": 200, "body": json.dumps(result)}
